---
interface ExperienceItem {
  role: string;
  company: string;
  period: string;
  current?: boolean;
  technologies: string[];
  achievements: string[];
  projectsLink?: string;
}

const experiences: ExperienceItem[] = [
  {
    role: "Freelance Full Stack Developer",
    company: "Independent",
    period: "Dec 2025 - Present",
    current: true,
    technologies: ["React", "TypeScript", "Node.js", "WordPress"],
    achievements: [
      "Developing end-to-end web solutions for diverse clients using modern JavaScript stack.",
      "Building custom applications with React frontends and Node.js/Express backends.",
      "Working with SQL and NoSQL databases to implement scalable data architectures.",
      "Creating custom WordPress solutions and integrations for content management needs.",
    ],
  },
  {
    role: "Front-end Developer",
    company: "Gamera Ecuador",
    period: "Mar 2025 - Dec 2025",
    technologies: ["React", "TypeScript", "Tailwind CSS"],
    achievements: [
      "Developed and maintained user-facing features for web applications.",
      "Collaborated with design team to implement responsive and accessible interfaces.",
      "Improved application performance and user experience through code optimization.",
    ],
  },
  {
    role: "Freelance Full Stack Developer",
    company: "Independent",
    period: "Aug 2023 - Nov 2024",
    technologies: ["React", "JavaScript", "Node.js"],
    achievements: [
      "Developed custom web solutions for multiple clients across different industries.",
      "Built responsive and interactive user interfaces using modern React practices.",
      "Delivered projects on time maintaining high code quality standards.",
    ],
  },
];
---

<section
  id="experience"
  class="py-12 border-t border-[#ffffff10] text-[var(--white)]"
>
  <div class="max-w-5xl mx-auto">
    <h2 class="text-lg text-[var(--sec)] mb-2 shiny-sec">Career Path</h2>
    <h3 class="text-4xl md:text-5xl font-medium mb-4">Experience</h3>
    <p class="text-md md:text-xl text-[var(--white-icon)] mb-12">
      My professional journey building scalable applications and working with
      international clients.
    </p>

    <div class="relative">
      {/* Timeline vertical line */}
      <div class="absolute left-[13px] md:left-[17px] top-8 bottom-0 w-[2px] bg-gradient-to-b from-[var(--sec)] via-[var(--sec)]/30 to-transparent" />

      <div class="space-y-8">
        {
          experiences.map((exp, index) => (
            <div class="relative pl-12 md:pl-16">
              {/* Timeline dot */}
              <div class="absolute left-0 top-6 w-7 h-7 md:w-9 md:h-9 rounded-full bg-[var(--sec)] flex items-center justify-center shadow-lg shadow-[var(--sec)]/40">
                <div class="w-3 h-3 md:w-4 md:h-4 rounded-full bg-[var(--background)]" />
                {exp.current && (
                  <div class="absolute inset-0 rounded-full animate-ping bg-[var(--sec)] opacity-75" />
                )}
              </div>

              {/* Experience card */}
              <div class="group relative overflow-hidden rounded-3xl bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-[var(--white-icon-tr)] hover:border-[var(--sec)]/40 transition-all duration-500 hover:shadow-2xl hover:shadow-[var(--sec)]/20">
                {/* Gradient overlay */}
                <div class="absolute inset-0 bg-gradient-to-br from-[var(--sec)]/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
                
                {/* Content */}
                <div class="relative p-6 md:p-8">
                  {/* Header */}
                  <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4">
                    <div class="flex-1">
                      <div class="flex items-center gap-3 flex-wrap mb-2">
                        <div class="w-12 h-12 rounded-xl bg-[var(--sec)]/10 border border-[var(--sec)]/20 flex items-center justify-center group-hover:bg-[var(--sec)]/20 group-hover:scale-110 transition-all duration-300">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                            class="w-6 h-6 text-[var(--sec)]"
                          >
                            <path d="M7 5V2C7 1.44772 7.44772 1 8 1H16C16.5523 1 17 1.44772 17 2V5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V6C2 5.44772 2.44772 5 3 5H7ZM4 16V19H20V16H4ZM4 14H20V7H4V14ZM9 3V5H15V3H9Z" />
                          </svg>
                        </div>
                        {exp.current && (
                          <div class="flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-[var(--sec)]/10 border border-[var(--sec)]/30">
                            <span class="relative flex h-2 w-2">
                              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[var(--sec)] opacity-75" />
                              <span class="relative inline-flex rounded-full h-2 w-2 bg-[var(--sec)]" />
                            </span>
                            <span class="text-xs text-[var(--sec)] font-medium">Current</span>
                          </div>
                        )}
                      </div>

                      <h3 class="text-2xl md:text-3xl font-bold text-[var(--white)] mb-2 group-hover:text-[var(--sec)] transition-colors duration-300">
                        {exp.role}
                      </h3>
                      <p class="text-lg text-[var(--white-icon)] mb-1">
                        {exp.company}
                      </p>
                    </div>

                    <div class="text-[var(--white-icon)] md:text-right text-sm md:text-base">
                      {exp.period}
                    </div>
                  </div>

                  {/* Technologies */}
                  <div class="flex flex-wrap gap-2 mb-6">
                    {exp.technologies.map((tech) => (
                      <span class="px-3 py-1.5 text-sm bg-[var(--background)] text-[var(--white-icon)] rounded-lg border border-[var(--white-icon-tr)] hover:border-[var(--sec)]/30 hover:text-[var(--white)] transition-all duration-300">
                        {tech}
                      </span>
                    ))}
                  </div>

                  {/* Achievements */}
                  <div class="space-y-3">
                    {exp.achievements.map((achievement) => (
                      <div class="flex gap-3">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                          class="w-6 h-6 text-[var(--sec)] flex-shrink-0 mt-0.5 opacity-70 group-hover:opacity-100 transition-opacity duration-300"
                        >
                          <path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11.0026 16L18.0737 8.92893L16.6595 7.51472L11.0026 13.1716L8.17421 10.3431L6.75999 11.7574L11.0026 16Z" />
                        </svg>
                        <p class="text-[var(--white-icon)] leading-relaxed group-hover:text-[var(--white)] transition-colors duration-300">
                          {achievement}
                        </p>
                      </div>
                    ))}
                  </div>

                  {exp.projectsLink && (
                    <a
                      href={exp.projectsLink}
                      class="mt-6 inline-flex items-center gap-2 text-[var(--sec)] hover:text-[var(--white)] transition-colors group/link"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="w-5 h-5"
                      >
                        <path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM8 7H16V9H8V7ZM8 11H16V13H8V11ZM8 15H13V17H8V15Z" />
                      </svg>
                      <span class="text-sm">See projects related to this role</span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="w-4 h-4 group-hover/link:translate-x-1 transition-transform duration-300"
                      >
                        <path d="M16.0037 9.41421L7.39712 18.0208L5.98291 16.6066L14.5895 8H7.00373V6H18.0037V17H16.0037V9.41421Z" />
                      </svg>
                    </a>
                  )}
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .shiny-sec {
    background: linear-gradient(135deg, #a476ff 25%, #eee5ff 50%, #a476ff 75%);
    background-size: 400% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: shine 3s linear infinite;
  }

  @keyframes shine {
    0% {
      background-position: 100% 50%;
    }
    30%,
    70% {
      background-position: 0% 50%;
    }
  }
</style>
